# LEARNED.md

У процесі виконання цього тестового проєкту я спеціально обрав два інструменти, з якими раніше не працював продакшн-рівнем: **Typer CLI** та **rate limiting + idempotency**.

---

## 1. Typer CLI

До цього я писав CLI або через argparse, або через Click (базово). **Typer виявився по суті "FastAPI у світі CLI"** — з автодокументацією, валідацією, type hints, і автоматичним UX без зайвого коду.

Особливо сподобалось:

- структура `python -m app.cli import_events ...` реально як у AWS / Stripe CLI
- 100% type-safe, а не просто парсер аргументів
- IDE підказує параметри CLI (!) ще до запуску
- можна розширювати без болю — інші команди, сабкоманди, версіонування


---

## 2. Rate limiting + ідемпотентність

Раніше я дивився на rate-limit швидше як на захист від зловмисників.
Тепер — чітко побачив практичну цінність **навіть без атаки**:

- rate limiting захищає від **випадкового флуду від CI/CD, QoS-spike, мобільного клієнта**
- **ідемпотентність ключем взагалі знімає страх повторного виклику** через мережеві retry
- поєднання цих двох речей = **API можна безпечно викликати скільки завгодно разів**
- абсолютно продакшн-майндсет


---

## Висновок

- CLI — має бути таким же чистим і передбачуваним, як API
- rate limiting + idempotency — це **не другорядне**, а **системоутворююче**
- у проєкті зʼявилось те саме відчуття _"можу дати в реальний трафік хоч завтра"_


